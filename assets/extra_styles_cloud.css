/* ========== ESTILOS EXTRA PARA STREAMLIT CLOUD ========== */
/* Versión sin variables CSS, con valores directos y !important */

/* ========== NOTA: Este archivo se carga DESPUÉS del tema principal ========== */
/* Por lo tanto, debe respetar los colores del tema ya establecidos */
/* Usar colores neutros que funcionen en ambos temas */

/* ========== TRANSICIONES SUAVES ========== */
* {
    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* ========== TARJETAS DE ANÁLISIS - NEUTRAL ========== */
.analysis-card {
  background: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid rgba(100, 116, 139, 0.3) !important;
  border-radius: 12px !important;
  padding: 24px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  margin: 12px 0 !important;
}

.analysis-card:hover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15) !important;
  transform: translateY(-2px) !important;
}

.analysis-title {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  margin-bottom: 1rem !important;
  border-bottom: 2px solid rgba(100, 116, 139, 0.3) !important;
  padding-bottom: 0.5rem !important;
}

.analysis-subtitle {
  font-size: 1rem !important;
  margin: 0.75rem 0 !important;
}

.analysis-highlight {
  background: #0ea5e9 !important;
  border-radius: 6px !important;
  padding: 0.35rem 0.75rem !important;
  color: #ffffff !important;
  font-weight: 500 !important;
  display: inline-block !important;
}

.analysis-highlight:hover {
  opacity: 0.9 !important;
  transform: scale(1.05) !important;
}

/* ========== TABLAS PROFESIONALES ========== */
.analysis-table {
  width: 100% !important;
  border-collapse: separate !important;
  border-spacing: 0 !important;
  margin: 1rem 0 !important;
  border-radius: 8px !important;
  overflow: hidden !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  border: 1px solid rgba(100, 116, 139, 0.3) !important;
}

.analysis-table th {
  padding: 12px !important;
  text-align: left !important;
  font-weight: 600 !important;
  border-bottom: 2px solid rgba(100, 116, 139, 0.3) !important;
}

.analysis-table td {
  padding: 12px !important;
  border-bottom: 1px solid rgba(100, 116, 139, 0.2) !important;
}

.analysis-table tbody tr {
  transition: background-color 0.2s ease !important;
}

.analysis-table tbody tr:hover {
  background: rgba(14, 165, 233, 0.1) !important;
}

/* ========== KPI METRICS ========== */
.kpi-row {
  display: flex !important;
  gap: 1rem !important;
  align-items: center !important;
  flex-wrap: wrap !important;
}

.kpi-metric {
  background: rgba(255, 255, 255, 0.05) !important;
  border-radius: 8px !important;
  padding: 12px 16px !important;
  min-width: 140px !important;
  text-align: center !important;
  border: 1px solid rgba(100, 116, 139, 0.3) !important;
  transition: all 0.2s ease !important;
}

.kpi-metric:hover {
  border-color: #0ea5e9 !important;
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.15) !important;
}

/* ========== EXPORT BUTTON ========== */
.export-button {
  background: linear-gradient(90deg, #0ea5e9, #0284c7) !important;
  color: white !important;
  padding: 10px 18px !important;
  border-radius: 8px !important;
  border: none !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
}

.export-button:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3) !important;
}

/* ========== ALERTAS ADMINISTRATIVAS ========== */
.alert-card {
  padding: 1.2rem !important;
  border-radius: 8px !important;
  border-left-width: 5px !important;
  border-left-style: solid !important;
  margin: 0.8rem 0 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
  border: 1px solid rgba(100, 116, 139, 0.3) !important;
}

.alert-content {
  display: flex !important;
  align-items: flex-start !important;
  gap: 0.8rem !important;
}

.alert-icon {
  font-size: 1.4rem !important;
  margin-top: 0.1rem !important;
  flex-shrink: 0 !important;
}

.alert-message-container {
  flex-grow: 1 !important;
}

.alert-message {
  font-weight: 600 !important;
  font-size: 1rem !important;
  margin-bottom: 0.4rem !important;
  line-height: 1.4 !important;
}

.alert-priority {
  color: white !important;
  padding: 0.3rem 0.8rem !important;
  border-radius: 16px !important;
  font-size: 0.85rem !important;
  font-weight: 600 !important;
  flex-shrink: 0 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

/* ========== INSIGHTS ESTRATÉGICOS ========== */
.insight-card {
  padding: 1.8rem !important;
  border-radius: 12px !important;
  margin: 1.2rem 0 !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08) !important;
  border: 1px solid rgba(100, 116, 139, 0.3) !important;
}

.insight-title {
  font-size: 1.3rem !important;
  font-weight: 700 !important;
  margin: 0 !important;
  line-height: 1.3 !important;
}

.insight-description {
  margin: 0 0 1.2rem 0 !important;
  line-height: 1.6 !important;
  font-size: 1rem !important;
  font-weight: 500 !important;
}

.insight-action-box {
  background: rgba(100, 116, 139, 0.1) !important;
  padding: 1.2rem !important;
  border-radius: 10px !important;
}

.insight-action-title {
  font-weight: 700 !important;
  font-size: 1rem !important;
  margin-bottom: 0.6rem !important;
}

.insight-action-text {
  margin: 0 !important;
  font-size: 1rem !important;
  line-height: 1.5 !important;
  font-weight: 600 !important;
}

/* ========== TOOLTIPS - SIEMPRE FONDO CLARO ========== */
.stTooltipIcon,
[data-testid="stTooltipHoverTarget"],
[role="tooltip"],
.stTooltipContent {
    background: #ffffff !important;
    color: #0f172a !important;
    border: 1px solid #cbd5e1 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

[role="tooltip"] > div,
.stTooltipContent > div,
[role="tooltip"] *,
.stTooltipContent * {
    color: #0f172a !important;
    background: #ffffff !important;
}

/* ========== TARJETAS DE ESTADO OPERATIVO ========== */
.status-card {
    text-align: center !important;
    padding: 1.3rem !important;
    border-radius: 12px !important;
    border-width: 3px !important;
    border-style: solid !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
}

.status-card-title {
    font-weight: 700 !important;
    font-size: 1.1rem !important;
    margin-bottom: 0.3rem !important;
    color: white !important;
}

.status-card-subtitle {
    font-size: 1rem !important;
    font-weight: 600 !important;
    color: white !important;
}

/* Fondos específicos por tipo */
.status-card-success {
    background: #059669 !important;
    border-color: #10b981 !important;
}

.status-card-warning {
    background: #d97706 !important;
    border-color: #fbbf24 !important;
}

.status-card-info {
    background: #2563eb !important;
    border-color: #60a5fa !important;
}

.status-card-predictive {
    background: #7c3aed !important;
    border-color: #c084fc !important;
}

/* ========== SIDEBAR USER CARD - TEXTO BLANCO SIEMPRE ========== */
.sidebar-user-card {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
}

.sidebar-user-card,
.sidebar-user-card *,
.sidebar-user-card strong,
.sidebar-user-card small,
.sidebar-user-card div,
.sidebar-user-card span,
.sidebar-user-card p,
.sidebar-user-name,
strong.sidebar-user-name,
section[data-testid="stSidebar"] .sidebar-user-name,
section[data-testid="stSidebar"] strong.sidebar-user-name,
.sidebar-user-role,
small.sidebar-user-role,
section[data-testid="stSidebar"] .sidebar-user-role,
section[data-testid="stSidebar"] small.sidebar-user-role {
    color: #ffffff !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7) !important;
}

.sidebar-user-card > strong,
.sidebar-user-card strong.sidebar-user-name,
strong.sidebar-user-name,
section[data-testid="stSidebar"] strong.sidebar-user-name {
    color: #ffffff !important;
    font-weight: 700 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7) !important;
}

.sidebar-user-card > small,
.sidebar-user-card small.sidebar-user-role,
small.sidebar-user-role,
section[data-testid="stSidebar"] small.sidebar-user-role {
    color: #ffffff !important;
    font-weight: 600 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7) !important;
}

.sidebar-user-org {
    background: rgba(255, 255, 255, 0.25) !important;
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
}

.sidebar-user-org *,
.sidebar-user-org small {
    color: #ffffff !important;
    font-weight: 700 !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5) !important;
}

/* ========== TOASTS Y NOTIFICACIONES - FONDO CLARO SIEMPRE ========== */
.stToast,
[data-testid="stToast"],
[data-testid="toastContainer"] > div,
div[data-baseweb="toast"] {
    background: #ffffff !important;
    color: #0f172a !important;
    border: 1px solid #cbd5e1 !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
}

.stToast *,
[data-testid="stToast"] *,
div[data-baseweb="toast"] * {
    color: #0f172a !important;
}

/* Success messages */
.stSuccess,
[data-testid="stSuccess"] {
    background: #ffffff !important;
    color: #0f172a !important;
    border-left: 4px solid #10b981 !important;
}

.stSuccess * {
    color: #0f172a !important;
}

/* Info messages */
.stInfo,
[data-testid="stInfo"] {
    background: #ffffff !important;
    color: #0f172a !important;
    border-left: 4px solid #3b82f6 !important;
}

.stInfo * {
    color: #0f172a !important;
}

/* Warning messages */
.stWarning,
[data-testid="stWarning"] {
    background: #ffffff !important;
    color: #0f172a !important;
    border-left: 4px solid #f59e0b !important;
}

.stWarning * {
    color: #0f172a !important;
}

/* Error messages */
.stError,
[data-testid="stError"] {
    background: #ffffff !important;
    color: #0f172a !important;
    border-left: 4px solid #ef4444 !important;
}

.stError * {
    color: #0f172a !important;
}

/* ========== REDIMENSIONAMIENTO DINÁMICO SIDEBAR ========== */
section[data-testid="stSidebar"],
section[data-testid="stMain"],
.main,
.main .block-container {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

body:has(section[data-testid="stSidebar"][aria-expanded="false"]) section[data-testid="stMain"],
body:has(section[data-testid="stSidebar"][aria-expanded="false"]) .main,
body:has(section[data-testid="stSidebar"][aria-expanded="false"]) .main .block-container {
    margin-left: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
}

/* ========== REDUCIR ESPACIO SUPERIOR ========== */
.main .block-container {
    padding-top: 0rem !important;
    padding-bottom: 1rem !important;
    margin-top: 0rem !important;
}

section[data-testid="stMain"] > div:first-child {
    padding-top: 0rem !important;
    margin-top: 0rem !important;
}

header[data-testid="stHeader"] {
    height: 2.5rem !important;
    min-height: 2.5rem !important;
}

.main {
    padding-top: 0 !important;
    margin-top: 0 !important;
}

.main .element-container:first-child,
.main .stMarkdown:first-child {
    margin-top: 0rem !important;
    padding-top: 0rem !important;
}

.main h1:first-child,
.main h2:first-child,
.main h3:first-child {
    margin-top: 0rem !important;
    padding-top: 0.5rem !important;
}

/* ========== ENCABEZADOS DE SECCIÓN CON CONTRASTE - CRÍTICO ========== */
/* Headers h4 y h5 con fondos azules vibrantes - ESENCIAL para UX */
.stMarkdown h4,
.stMarkdown h5,
div.stMarkdown h4,
div.stMarkdown h5,
[data-testid="stMarkdownContainer"] h4,
[data-testid="stMarkdownContainer"] h5 {
    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%) !important;
    color: #ffffff !important;
    padding: 0.75rem 1rem !important;
    border-radius: 8px !important;
    margin: 1rem 0 0.5rem 0 !important;
    font-weight: 600 !important;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3) !important;
}

.stMarkdown h4 *,
.stMarkdown h5 *,
div.stMarkdown h4 *,
div.stMarkdown h5 * {
    color: #ffffff !important;
}

/* Headers h3 también con fondo azul (menos común pero importante) */
.stMarkdown h3,
div.stMarkdown h3 {
    background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%) !important;
    color: #ffffff !important;
    padding: 1rem 1.5rem !important;
    border-radius: 12px !important;
    margin: 1.5rem 0 0.75rem 0 !important;
    font-weight: 700 !important;
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4) !important;
}

.stMarkdown h3 * {
    color: #ffffff !important;
}

/* ========== MENÚ DE NAVEGACIÓN - HOVER Y ESTADO ACTIVO ========== */

/* Transición suave para todos los links del menú - ULTRA ESPECÍFICO */
[data-v-5af006b8] a.nav-link.nav-link-horizontal,
a.nav-link.nav-link-horizontal[href="javascript:void(0);"],
a.nav-link.nav-link-horizontal {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* HOVER: Efecto para links NO activos - TEMA CLARO */
[data-theme="light"] [data-v-5af006b8] a.nav-link.nav-link-horizontal:not([aria-current="page"]):hover,
[data-theme="light"] a.nav-link.nav-link-horizontal:not([aria-current="page"]):hover {
    background-color: #e9ecef !important;
    background-image: none !important;
    background: #e9ecef !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

/* HOVER: Efecto para links NO activos - TEMA OSCURO */
[data-theme="dark"] [data-v-5af006b8] a.nav-link.nav-link-horizontal:not([aria-current="page"]):hover,
[data-theme="dark"] a.nav-link.nav-link-horizontal:not([aria-current="page"]):hover {
    background-color: #64748b !important;
    background-image: none !important;
    background: #64748b !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

/* Ícono en hover - Efecto de escala */
[data-v-5af006b8] a.nav-link.nav-link-horizontal:not([aria-current="page"]):hover i.icon,
[data-v-5af006b8] a.nav-link.nav-link-horizontal:not([aria-current="page"]):hover i[class*="bi-"],
a.nav-link.nav-link-horizontal:not([aria-current="page"]):hover i.icon,
a.nav-link.nav-link-horizontal:not([aria-current="page"]):hover i[class*="bi-"] {
    transform: scale(1.1) !important;
    transition: transform 0.3s ease !important;
}

/* ACTIVO: Elemento con aria-current="page" - Estilos persistentes */
[data-v-5af006b8] a.nav-link.nav-link-horizontal[aria-current="page"],
a.nav-link.nav-link-horizontal[aria-current="page"] {
    background: linear-gradient(135deg, #3b82f6, #2563eb) !important;
    background-color: #3b82f6 !important;
    background-image: linear-gradient(135deg, #3b82f6, #2563eb) !important;
    color: white !important;
    border-bottom-color: #3b82f6 !important;
    font-weight: 600 !important;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4) !important;
}

/* Ícono del elemento activo - Siempre blanco */
[data-v-5af006b8] a.nav-link.nav-link-horizontal[aria-current="page"] i.icon,
[data-v-5af006b8] a.nav-link.nav-link-horizontal[aria-current="page"] i[class*="bi-"],
a.nav-link.nav-link-horizontal[aria-current="page"] i.icon,
a.nav-link.nav-link-horizontal[aria-current="page"] i[class*="bi-"] {
    color: white !important;
}

/* Hover sobre elemento activo - Realce sutil (degradado más oscuro) */
[data-v-5af006b8] a.nav-link.nav-link-horizontal[aria-current="page"]:hover,
a.nav-link.nav-link-horizontal[aria-current="page"]:hover {
    background: linear-gradient(135deg, #2563eb, #1d4ed8) !important;
    background-image: linear-gradient(135deg, #2563eb, #1d4ed8) !important;
    transform: translateY(0px) !important;
    box-shadow: 0 3px 10px rgba(59, 130, 246, 0.6) !important;
}

/* CACHE INVALIDATION - FORCE RELOAD 2025-11-10-sidebar-white-text-fix-v5 */
